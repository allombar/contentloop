<div class="max-w-screen-xl mx-auto px-4 sm:px-8 xl:px-0 py-12">
  <div class="text-center mb-16">
    <h1 class="text-4xl sm:text-5xl font-bold text-base-content mb-4">
      Bienvenue sur ContentLoop
    </h1>
    <p class="text-base-content/70 text-lg max-w-2xl mx-auto">
      Explore, partage et débat sur les sujets qui te passionnent. Une
      plateforme ouverte, construite par la communauté.
    </p>
    @if (!isAuthenticated()) {
    <div class="mt-6 flex flex-col sm:flex-row gap-4 justify-center">
      <a routerLink="/register" class="btn btn-primary">Créer un compte</a>
      <a routerLink="/login" class="btn btn-outline">Se connecter</a>
    </div>
    }
  </div>

  <div>
    <h2 class="text-2xl font-semibold text-base-content mb-6 text-center">
      Derniers articles
    </h2>

    @if(articlesSignal() && articlesSignal()!.items.length > 0) {
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      @for (article of articlesSignal()?.items; track $index) {
      <div
        class="group card bg-base-100/80 backdrop-blur-sm shadow-xl hover:shadow-2xl border border-base-300/50 hover:border-primary/50 transition-all duration-300 hover:-translate-y-1"
      >
        <div class="card-body space-y-4">
          <h3
            class="text-lg font-bold text-base-content group-hover:text-primary transition-all duration-300 line-clamp-2 leading-tight"
          >
            {{ article.title }}
          </h3>

          <p class="text-base-content/70 text-sm leading-relaxed line-clamp-3">
            {{ article.description }}
          </p>

          <div
            class="flex items-center justify-between text-xs text-base-content/60"
          >
            <div class="flex items-center gap-4">
              <span class="font-medium">Par {{ article.authorName }}</span>
              <div class="flex items-center gap-1">
                <svg
                  class="h-3 w-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                  ></path>
                </svg>
                {{ article.createdAt | date : "dd/MM/yyyy" }}
              </div>
            </div>
            <div class="flex items-center gap-3">
              <div class="flex items-center gap-1">
                <svg
                  class="h-3 w-3"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  ></path>
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  ></path>
                </svg>
                {{ article.viewsCount }}
              </div>
            </div>
          </div>

          <div class="card-actions">
            <a
              [routerLink]="['/article', article.id]"
              class="btn btn-outline btn-primary w-full group-hover:btn-primary transition-all duration-300"
            >
              Lire l'article
            </a>
          </div>
        </div>
      </div>
      }
    </div>
    } @else {
    <p class="text-center text-gray-600">
      Aucun article disponible pour le moment.
    </p>
    }
  </div>
</div>
